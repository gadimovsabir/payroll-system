{% extends "hr/base.html" %}
{% load i18n static %}

{% block title %}İşçilər cədvəli{% endblock %}
{% block extrastyle %}<link rel="stylesheet" href="{% static "hr/css/tables.css" %}">{% endblock %}
{% block main %}
<table class="employees-table">
  <thead>
    <tr>
      <th>Soyadı</th>
      <th>Adı</th>
      <th>Ata adı</th>
    </tr>
  </thead>
  <tbody>
    {% for employee in employees %}
    <tr data-href="{{ employee.pk }}">
      <td>{{ employee.last_name }}</td>
      <td>{{ employee.first_name }}</td>
      <td>{{ employee.father_name }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
{% block scripts %}
<script type="text/javascript">
  "use strict";

  let employeesTableBody = document.querySelector(".employees-table > tbody");

  employeesTableBody.addEventListener("click", function(event) {
    window.location.href += event.target.closest("tr").dataset.href;
  });
</script>
{% endblock %}