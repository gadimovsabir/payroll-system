{% extends "hr/base.html" %}
{% load i18n static %}
{% block title %}İşçilər cədvəli{% endblock %}
{% block main %}
<table class="employees-table">
  <thead>
    <tr>
      <th>Adı</th>
      <th>Soyadı</th>
      <th>Ata adı</th>
    </tr>
  </thead>
  <tbody>
    {% for employee in employees %}
      <tr data-href="{{ employee.id }}">
        <td>{{ employee.first_name }}</td>
        <td>{{ employee.last_name }}</td>
        <td>{{ employee.father_name }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
{% block scripts %}
<script type="text/javascript">
  "use strict";

  let employeesTableBody = document.querySelector(".employees-table > tbody");

  employeesTableBody.addEventListener("click", function(event) {
    let tr = event.target.closest("tr");

    if (tr) window.location.href += tr.dataset.href;
  });
</script>
{% endblock %}